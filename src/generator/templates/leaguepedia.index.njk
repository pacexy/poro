/*! THIS FILE IS AUTO-GENERATED */

import axios from './axios'
import { generateURL } from './generate_url'
import { getType } from './util'

const leaguepedia = {
  async _fetch(table, parameter, callback) {
    const shouldUseCallback = getType(callback) === 'Function'

    const url = await generateURL(table, parameter)
    const res = await axios.get(url)

    if (shouldUseCallback) callback(null, res.data)

    return res.data
  },

  setAxiosRequestInterceptor(fulfilled, rejected) {
    axios.interceptors.request.use(fulfilled, rejected)
  },

  setAxiosResponseInterceptor(fulfilled, rejected) {
    axios.interceptors.response.use(fulfilled, rejected)
  },

  {% for table in tables %}
    fetch{{ table }}(parameter, callback) {
      return this._fetch('{{ table }}', parameter, callback)
    },

  {% endfor %}
}

module.exports = leaguepedia
